See [dbt's documentation](https://docs.getdbt.com/docs/custom-schema-tests) on custom schema tests, which are implemented as macros.